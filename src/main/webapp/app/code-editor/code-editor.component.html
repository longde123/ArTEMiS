<div class="editor-wrapper">
    <nav class="navbar navbar-light navbar-expand-sm jh-navbar">
        <div class="jh-logo-container float-left editor-top-left">
            <span class="navbar-title" jhiTranslate="arTeMiSApp.editor.title"> </span>
            <span>{{ participation?.exercise.title }}</span>
        </div>
        <div class="navbar-collapse editor-top-right">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item dropdown pointer">
                    <jhi-result [participation]="participation" [isBuilding]="isBuilding" (newResult)="updateLatestResult($event)" [hidden]="isBuilding"> </jhi-result>
                </li>
            </ul>
        </div>
        <button
            type="button"
            class="btn btn-secondary navbar-btn mr-3"
            [disabled]="editorState !== 'UNSAVED_CHANGES'"
            (click)="editor.saveChangedFiles()"
            data-toggle="tooltip"
            data-placement="left"
            title="Save all unsaved changes in your files."
        >
            <span *ngIf="editorState === 'SAVING'"><fa-icon icon="circle-notch" [spin]="true"></fa-icon> <span jhiTranslate="arTeMiSApp.editor.saving">Saving</span></span>
            <span *ngIf="editorState !== 'SAVING'"><fa-icon [icon]="['far', 'save']"></fa-icon> <span jhiTranslate="arTeMiSApp.editor.saveFiles">Save Files</span></span>
        </button>
        <button
            type="button"
            class="btn btn-primary navbar-btn"
            [disabled]="!isSaved || isBuilding"
            (click)="commit($event)"
            data-toggle="tooltip"
            data-placement="left"
            title="Stage, commit, push, build and test your changes."
        >
            <span *ngIf="isBuilding"><fa-icon icon="circle-notch" [spin]="true"></fa-icon> <span jhiTranslate="arTeMiSApp.editor.building">Building</span></span>
            <span *ngIf="!isBuilding"><fa-icon [icon]="['far', 'play-circle']"></fa-icon> <span jhiTranslate="arTeMiSApp.editor.commitAndRun">Commit & Run Tests</span></span>
        </button>
    </nav>

    <div class="editor-main">
        <div class="editor-sidebar-left">
            <jhi-code-editor-file-browser
                [participation]="participation"
                [fileName]="selectedFile"
                [repositoryFiles]="repositoryFiles"
                (selectedFile)="updateSelectedFile($event)"
                (createdFile)="updateRepositoryCommitStatus($event)"
                (deletedFile)="updateRepositoryCommitStatus($event)"
            >
            </jhi-code-editor-file-browser>
        </div>

        <div class="editor-center">
            <jhi-code-editor-ace
                [participation]="participation"
                [selectedFile]="selectedFile"
                [repositoryFiles]="repositoryFiles"
                [buildLogErrors]="buildLogErrors ? buildLogErrors.errors : {}"
                (saveStatusChange)="updateSaveStatusLabel($event)"
                [editorState]="editorState"
                (onEditorStateChange)="setEditorState($event)"
            >
            </jhi-code-editor-ace>
        </div>

        <div class="editor-sidebar-right">
            <jhi-code-editor-instructions [participation]="participation"> </jhi-code-editor-instructions>
        </div>
    </div>

    <div class="editor-bottom">
        <jhi-code-editor-build-output [participation]="participation" [isBuilding]="isBuilding" (buildLogChange)="updateLatestBuildLogs($event)"> </jhi-code-editor-build-output>
    </div>
</div>
